<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Doce Sabor Caseiro</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
    body { background: #fff0f5; color: #333; }
    .splash {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      height: 100vh; background-color: #ffc0cb;
    }
    .splash h1 { font-size: 2.5rem; color: white; margin-bottom: 20px; }
    .splash button {
      padding: 10px 20px; font-size: 1rem; background: white; color: #d63384;
      border: none; border-radius: 8px; cursor: pointer;
    }
    .container { display: none; padding: 20px; }
    nav {
      display: flex; justify-content: space-around; background: #ff69b4; padding: 10px 0;
    }
    nav button {
      background: none; border: none; color: white; font-size: 1rem; cursor: pointer;
    }
    section { display: none; padding: 20px; background: white; border-radius: 10px; margin-top: 20px; }
    section.active { display: block; }
    h2 { margin-bottom: 10px; color: #d63384; }
    input, select, textarea {
      display: block; margin: 10px 0; padding: 8px; width: 100%; border-radius: 6px; border: 1px solid #ccc;
    }
    button.save {
      background: #d63384; color: white; border: none; padding: 10px; border-radius: 6px; cursor: pointer;
    }
    ul { margin-top: 10px; }
    ul li {
      background: #ffe4e1; padding: 8px; margin-bottom: 6px; border-radius: 6px;
    }
  </style>
</head>
<body>

<div class="splash" id="splash">
  <h1>Doce Sabor Caseiro</h1>
  <button onclick="enterApp()">Entrar</button>
</div>

<div class="container" id="app">
  <nav>
    <button onclick="showSection('clientes')">üìã Clientes</button>
    <button onclick="showSection('pedidos')">üßÅ Pedidos</button>
    <button onclick="showSection('despesas')">üí∏ Despesas</button>
    <button onclick="showSection('estoque')">üì¶ Estoque</button>
    <button onclick="showSection('financeiro')">üìä Financeiro</button>
  </nav>

  <section id="clientes" class="active">
    <h2>Cadastro de Cliente</h2>
    <input id="clienteNome" placeholder="Nome">
    <input id="clienteTelefone" placeholder="Telefone">
    <input id="clienteEndereco" placeholder="Endere√ßo">
    <button class="save" onclick="salvarCliente()">Salvar Cliente</button>
    <ul id="listaClientes"></ul>
  </section>

  <section id="pedidos">
    <h2>Pedidos</h2>
    <input id="pedidoCliente" placeholder="Nome do Cliente">
    <input id="tipoProduto" placeholder="Tipo de Produto">
    <input id="valorPedido" type="number" placeholder="Valor (R$)">
    <select id="entrega">
      <option>Entregar</option>
      <option>Retirar</option>
    </select>
    <button class="save" onclick="salvarPedido()">Salvar Pedido</button>
    <ul id="listaPedidos"></ul>
  </section>

  <section id="despesas">
    <h2>Despesas</h2>
    <select id="tipoDespesa">
      <option>Mercadorias</option>
      <option>Loja</option>
      <option>Pessoais</option>
    </select>
    <input id="valorDespesa" type="number" placeholder="Valor (R$)">
    <button class="save" onclick="salvarDespesa()">Salvar Despesa</button>
    <ul id="listaDespesas"></ul>
  </section>

  <section id="estoque">
    <h2>Estoque</h2>
    <input id="produtoNome" placeholder="Nome do Produto">
    <input id="produtoQtd" type="number" placeholder="Quantidade">
    <button class="save" onclick="adicionarProduto()">Adicionar Produto</button>
    <ul id="listaEstoque"></ul>
  </section>

  <section id="financeiro">
    <h2>Financeiro</h2>
    <p><strong>Ganhos:</strong> R$ <span id="ganhos">0.00</span></p>
    <p><strong>Gastos:</strong> R$ <span id="gastos">0.00</span></p>
    <p><strong>Lucros:</strong> R$ <span id="lucros">0.00</span></p>
    <p><em>Relat√≥rios di√°rio, mensal e anual em breve!</em></p>
  </section>
</div>

<script>
  function enterApp() {
    document.getElementById('splash').style.display = 'none';
    document.getElementById('app').style.display = 'block';
    atualizarFinanceiro();
    listarClientes();
    listarPedidos();
    listarDespesas();
    listarEstoque();
  }

  function showSection(id) {
    document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  function salvarCliente() {
    const nome = clienteNome.value;
    const telefone = clienteTelefone.value;
    const endereco = clienteEndereco.value;
    if (!nome || !telefone || !endereco) return alert('Preencha todos os campos');

    const clientes = JSON.parse(localStorage.getItem('clientes') || '[]');
    clientes.push({ nome, telefone, endereco });
    localStorage.setItem('clientes', JSON.stringify(clientes));
    clienteNome.value = clienteTelefone.value = clienteEndereco.value = '';
    listarClientes();
  }

  function listarClientes() {
    const lista = document.getElementById('listaClientes');
    lista.innerHTML = '';
    const clientes = JSON.parse(localStorage.getItem('clientes') || '[]');
    clientes.forEach(c => {
      const li = document.createElement('li');
      li.textContent = `${c.nome} - ${c.telefone} (${c.endereco})`;
      lista.appendChild(li);
    });
  }

  function salvarPedido() {
    const nome = pedidoCliente.value;
    const produto = tipoProduto.value;
    const valor = parseFloat(valorPedido.value);
    const entrega = entrega.value;
    if (!nome || !produto || !valor || isNaN(valor)) return alert('Preencha todos os campos');

    const pedidos = JSON.parse(localStorage.getItem('pedidos') || '[]');
    pedidos.push({ nome, produto, valor, entrega });
    localStorage.setItem('pedidos', JSON.stringify(pedidos));
    pedidoCliente.value = tipoProduto.value = valorPedido.value = '';
    listarPedidos();
    atualizarFinanceiro();
  }

  function listarPedidos() {
    const lista = document.getElementById('listaPedidos');
    lista.innerHTML = '';
    const pedidos = JSON.parse(localStorage.getItem('pedidos') || '[]');
    pedidos.forEach(p => {
      const li = document.createElement('li');
      li.textContent = `${p.nome} pediu ${p.produto} - R$${p.valor.toFixed(2)} (${p.entrega})`;
      lista.appendChild(li);
    });
  }

  function salvarDespesa() {
    const tipo = tipoDespesa.value;
    const valor = parseFloat(valorDespesa.value);
    if (!tipo || isNaN(valor)) return alert('Preencha todos os campos');

    const despesas = JSON.parse(localStorage.getItem('despesas') || '[]');
    despesas.push({ tipo, valor });
    localStorage.setItem('despesas', JSON.stringify(despesas));
    valorDespesa.value = '';
    listarDespesas();
    atualizarFinanceiro();
  }

  function listarDespesas() {
    const lista = document.getElementById('listaDespesas');
    lista.innerHTML = '';
    const despesas = JSON.parse(localStorage.getItem('despesas') || '[]');
    despesas.forEach(d => {
      const li = document.createElement('li');
      li.textContent = `${d.tipo}: R$${d.valor.toFixed(2)}`;
      lista.appendChild(li);
    });
  }

  function adicionarProduto() {
    const nome = produtoNome.value;
    const qtd = parseInt(produtoQtd.value);
    if (!nome || isNaN(qtd)) return alert('Preencha todos os campos');

    const estoque = JSON.parse(localStorage.getItem('estoque') || '[]');
    estoque.push({ nome, qtd });
    localStorage.setItem('estoque', JSON.stringify(estoque));
    produtoNome.value = produtoQtd.value = '';
    listarEstoque();
  }

  function listarEstoque() {
    const lista = document.getElementById('listaEstoque');
    lista.innerHTML = '';
    const estoque = JSON.parse(localStorage.getItem('estoque') || '[]');
    estoque.forEach(p => {
      const li = document.createElement('li');
      li.textContent = `${p.nome} - ${p.qtd} unidades${p.qtd === 0 ? ' (Em falta!)' : ''}`;
      lista.appendChild(li);
    });
  }

  function atualizarFinanceiro() {
    const pedidos = JSON.parse(localStorage.getItem('pedidos') || '[]');
    const despesas = JSON.parse(localStorage.getItem('despesas') || '[]');
    let ganhos = pedidos.reduce((soma, p) => soma + p.valor, 0);
    let gastos = despesas.reduce((soma, d) => soma + d.valor, 0);
    let lucros = ganhos - gastos;

    document.getElementById('ganhos').textContent = ganhos.toFixed(2);
    document.getElementById('gastos').textContent = gastos.toFixed(2);
    document.getElementById('lucros').textContent = lucros.toFixed(2);
  }
</script>

</body>
</html>